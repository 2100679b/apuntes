<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ingenier√≠a - Mis Apuntes 2.0</title>
    
    <!-- Icono -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üöÄ</text></svg>">
    
    <!-- React y ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        slate: { 850: '#1e293b', 900: '#0f172a' }
                    }
                }
            }
        }
    </script>

    <style>
        /* Scrollbar suave */
        ::-webkit-scrollbar { width: 5px; height: 5px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        .dark ::-webkit-scrollbar-thumb { background: #475569; }
        
        /* Scrollbar muy delgado para navegaci√≥n de semestres */
        .semester-scroll::-webkit-scrollbar { height: 3px; }
        .semester-scroll::-webkit-scrollbar-thumb { background: #9ca3af; border-radius: 10px; }
        .dark .semester-scroll::-webkit-scrollbar-thumb { background: #4b5563; }

        .fade-in { animation: fadeIn 0.2s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(4px); } to { opacity: 1; transform: translateY(0); } }
        
        .iframe-container {
            background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
            background-size: 20px 20px;
        }
        .dark .iframe-container {
            background-image: radial-gradient(#334155 1px, transparent 1px);
        }
    </style>
</head>
<body class="bg-gray-50 text-slate-800 dark:bg-slate-900 dark:text-slate-100 font-sans overflow-hidden transition-colors duration-300">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useEffect } = React;

        // ==========================================
        //  DATOS DEL PLAN DE ESTUDIOS
        // ==========================================
        const PLAN_ESTUDIOS = [
            // Semestre I
            { id: 'algebra', name: '1.- √Ålgebra Superior', semester: 'I' },
            { id: 'calculo1', name: '2.- C√°lculo I', semester: 'I' },
            { id: 'fisica1', name: '3.- F√≠sica I', semester: 'I' },
            { id: 'tecnicas', name: '4.- T√©cnicas de Estudio', semester: 'I' },
            { id: 'quimica', name: '5.- Qu√≠mica', semester: 'I' },
            { id: 'ingles1', name: '6.- Ingl√©s I', semester: 'I' },
            { id: 'lab-fisica1', name: '7.- Laboratorio de F√≠sica I', semester: 'I' },
            { id: 'lab-herra', name: '8.- Laboratorio de Herramientas Computacionales', semester: 'I' },
            { id: 'lab-quimica', name: '9.- Laboratorio de Qu√≠mica', semester: 'I' },
            
            // Semestre II
            { id: 'calculo2', name: '1.- C√°lculo II', semester: 'II' },
            { id: 'fisica2', name: '2.- F√≠sica II', semester: 'II' },
            { id: 'progra', name: '3.- Programaci√≥n de Computadoras', semester: 'II' },
            { id: 'electronica1', name: '4.- Electr√≥nica Anal√≥gica I', semester: 'II' },
            { id: 'logica', name: '5.- L√≥gica', semester: 'II' },
            { id: 'ingles2', name: '6.- Ingl√©s II', semester: 'II' },
            { id: 'lab-fisica2', name: '7.- Laboratorio de F√≠sica II', semester: 'II' },
            { id: 'lab-progra', name: '8.- Laboratorio de Programaci√≥n de Computadoras', semester: 'II' },
            { id: 'lab-electronica1', name: '9.- Laboratorio de Electr√≥nica Anal√≥gica I', semester: 'II' },

            // Semestre III
            { id: 'calculo3', name: '1.- C√°lculo III', semester: 'III' },
            { id: 'teoria-electro', name: '2.- Teor√≠a Electromagn√©tica I', semester: 'III' },
            { id: 'metodos', name: '3.- M√©todos Num√©ricos', semester: 'III' },
            { id: 'electronica2', name: '4.- Electr√≥nica Anal√≥gica II', semester: 'III' },
            { id: 'termo', name: '5.- Termodin√°mica', semester: 'III' },
            { id: 'ingles3', name: '6.- Ingl√©s III', semester: 'III' },
            { id: 'lab-teoria', name: '7.- Laboratorio de Teor√≠a Electromagn√©tica I', semester: 'III' },
            { id: 'lab-electronica2', name: '8.- Laboratorio de Electr√≥nica Anal√≥gica II', semester: 'III' },
            { id: 'lab-termo', name: '9.- Laboratorio de Termodin√°mica', semester: 'III' },

            // Semestre IV
            { id: 'calculo4', name: '1.- C√°lculo IV', semester: 'IV' },
            { id: 'circuitos1', name: '2.- Circuitos El√©ctricos I', semester: 'IV' },
            { id: 'discretas', name: '3.- Matem√°ticas Discretas', semester: 'IV' },
            { id: 'digital1', name: '4.- Electr√≥nica Digital I', semester: 'IV' },
            { id: 'estructuras', name: '5.- Estructuras de Datos', semester: 'IV' },
            { id: 'ing-prog', name: '6.- Ingenier√≠a de Programaci√≥n', semester: 'IV' },
            { id: 'ingles4', name: '7.- Ingl√©s IV', semester: 'IV' },
            { id: 'lab-digital1', name: '8.- Laboratorio de Electr√≥nica Digital I', semester: 'IV' },

            // Semestre V
            { id: 'lineal', name: '1.- √Ålgebra Lineal', semester: 'V' },
            { id: 'algoritmos', name: '2.- An√°lisis de Algoritmos', semester: 'V' },
            { id: 'paradigmas', name: '3.- Paradigmas de Programaci√≥n', semester: 'V' },
            { id: 'proba', name: '4.- Probabilidad y Estad√≠stica', semester: 'V' },
            { id: 'control1', name: '5.- Control Anal√≥gico I', semester: 'V' },
            { id: 'lenguajes', name: '6.- Lenguajes Formales y Aut√≥matas', semester: 'V' },
            { id: 'lab-paradigmas', name: '7.- Laboratorio de Paradigmas de Programaci√≥n', semester: 'V' },
            { id: 'lab-control1', name: '8.- Laboratorio de Control Anal√≥gico I', semester: 'V' },

            // Semestre VI
            { id: 'graficacion', name: '1.- Graficaci√≥n', semester: 'VI' },
            { id: 'org-comp', name: '2.- Organizaci√≥n de Computadoras', semester: 'VI' },
            { id: 'compiladores', name: '3.- Compiladores', semester: 'VI' },
            { id: 'control2', name: '4.- Control Anal√≥gico II', semester: 'VI' },
            { id: 'comms1', name: '5.- Comunicaciones I', semester: 'VI' },
            { id: 'economia', name: '6.- Econom√≠a', semester: 'VI' },
            { id: 'lab-control2', name: '7.- Laboratorio de Control Anal√≥gico II', semester: 'VI' },
            { id: 'lab-comms', name: '8.- Laboratorio de Comunicaciones', semester: 'VI' },
            { id: 'lab-graf', name: '9.- Laboratorio de Graficaci√≥n', semester: 'VI' },

            // Semestre VII
            { id: 'teoria-comp', name: '1.- Teor√≠a de la Computaci√≥n', semester: 'VII' },
            { id: 'inv-op', name: '2.- Investigaci√≥n de Operaciones', semester: 'VII' },
            { id: 'bd', name: '3.- Bases de Datos', semester: 'VII' },
            { id: 'redes', name: '4.- Redes de Computadoras', semester: 'VII' },
            { id: 'temas7', name: '5.- Tema Selecto', semester: 'VII' },
            { id: 'lab-redes', name: '6.- Laboratorio de Redes de Computadoras', semester: 'VII' },
            { id: 'lab-bd', name: '7.- Laboratorio de Bases de Datos', semester: 'VII' },

            // Semestre VIII
            { id: 'modelos', name: '1.- Modelos Probabilistas', semester: 'VIII' },
            { id: 'control-dig1', name: '2.- Control Digital I', semester: 'VIII' },
            { id: 'so', name: '3.- Sistemas Operativos', semester: 'VIII' },
            { id: 'admin', name: '4.- Administraci√≥n', semester: 'VIII' },
            { id: 'etica', name: '5.- √âtica Profesional', semester: 'VIII' },
            { id: 'temas8', name: '6.- Tema Selecto', semester: 'VIII' },
            { id: 'lab-control-dig1', name: '7.- Laboratorio de Control Digital I', semester: 'VIII' },
            { id: 'lab-so', name: '8.- Laboratorio de Sistemas Operativos', semester: 'VIII' },
            { id: 'lab-temas8', name: '9.- Laboratorio de Tema Selecto', semester: 'VIII' },

            // Semestre IX
            { id: 'expresion', name: '1.- Expresi√≥n Oral y Escrita', semester: 'IX' },
            { id: 'contabilidad', name: '2.- Contabilidad', semester: 'IX' },
            { id: 'temas9-1', name: '3.- Tema Selecto', semester: 'IX' },
            { id: 'temas9-2', name: '4.- Tema Selecto', semester: 'IX' },
            { id: 'temas9-3', name: '5.- Tema Selecto', semester: 'IX' },
            { id: 'lab-temas9', name: '6.- Laboratorio de Tema Selecto', semester: 'IX' },
            { id: 'ia', name: '7.- Inteligencia Artificial', semester: 'IX' },
            { id: 'lab-ia', name: '8.- Laboratorio de Inteligencia Artificial', semester: 'IX' },

            // Semestre X
            { id: 'tesis', name: '1.- Seminario de Tesis', semester: 'X' },
        ];

        // ==========================================
        //  DOCUMENTOS Y EX√ÅMENES - TODO DESBLOQUEADO
        //  TODAS las materias tienen APUNTES + 4 PARCIALES
        // ==========================================
        
        // ==========================================
        //  üìö PERSONALIZACI√ìN DE PDFS
        //  Cambia los nombres de los archivos por los tuyos reales
        //  Todos los PDFs van en la carpeta ./pdfs/
        // ==========================================
        const CUSTOM_PDFS = {
            // === SEMESTRE I ===
            'algebra': {
                apuntes: 'algebra_apuntes.pdf',
                p1: 'algebra_p1.pdf',
                p2: 'algebra_p2.pdf',
                p3: 'algebra_p3.pdf',
                p4: 'algebra_p4.pdf',
            },
            'calculo1': {
                apuntes: 'calculo1_apuntes.pdf',
                p1: 'calculo1_p1.pdf',
                p2: 'calculo1_p2.pdf',
                p3: 'calculo1_p3.pdf',
                p4: 'calculo1_p4.pdf',
            },
            'fisica1': {
                apuntes: 'fisica1_apuntes.pdf',
                p1: 'fisica1_p1.pdf',
                p2: 'fisica1_p2.pdf',
                p3: 'fisica1_p3.pdf',
                p4: 'fisica1_p4.pdf',
            },
            'tecnicas': {
                apuntes: 'tecnicas_apuntes.pdf',
                p1: 'tecnicas_p1.pdf',
                p2: 'tecnicas_p2.pdf',
                p3: 'tecnicas_p3.pdf',
                p4: 'tecnicas_p4.pdf',
            },
            'quimica': {
                apuntes: 'quimica_apuntes.pdf',
                p1: 'quimica_p1.pdf',
                p2: 'quimica_p2.pdf',
                p3: 'quimica_p3.pdf',
                p4: 'quimica_p4.pdf',
            },
            'ingles1': {
                apuntes: 'ingles1_apuntes.pdf',
                p1: 'ingles1_p1.pdf',
                p2: 'ingles1_p2.pdf',
                p3: 'ingles1_p3.pdf',
                p4: 'ingles1_p4.pdf',
            },
            'lab-fisica1': {
                apuntes: 'lab_fisica1_apuntes.pdf',
                p1: 'lab_fisica1_p1.pdf',
                p2: 'lab_fisica1_p2.pdf',
                p3: 'lab_fisica1_p3.pdf',
                p4: 'lab_fisica1_p4.pdf',
            },
            'lab-herra': {
                apuntes: 'lab_herra_apuntes.pdf',
                p1: 'lab_herra_p1.pdf',
                p2: 'lab_herra_p2.pdf',
                p3: 'lab_herra_p3.pdf',
                p4: 'lab_herra_p4.pdf',
            },
            'lab-quimica': {
                apuntes: 'lab_quimica_apuntes.pdf',
                p1: 'lab_quimica_p1.pdf',
                p2: 'lab_quimica_p2.pdf',
                p3: 'lab_quimica_p3.pdf',
                p4: 'lab_quimica_p4.pdf',
            },
            
            // === SEMESTRE II ===
            'calculo2': {
                apuntes: 'calculo2_apuntes.pdf',
                p1: 'calculo2_p1.pdf',
                p2: 'calculo2_p2.pdf',
                p3: 'calculo2_p3.pdf',
                p4: 'calculo2_p4.pdf',
            },
            'fisica2': {
                apuntes: 'fisica2_apuntes.pdf',
                p1: 'fisica2_p1.pdf',
                p2: 'fisica2_p2.pdf',
                p3: 'fisica2_p3.pdf',
                p4: 'fisica2_p4.pdf',
            },
            'progra': {
                apuntes: 'progra_apuntes.pdf',
                p1: 'progra_p1.pdf',
                p2: 'progra_p2.pdf',
                p3: 'progra_p3.pdf',
                p4: 'progra_p4.pdf',
            },
            'electronica1': {
                apuntes: 'electronica1_apuntes.pdf',
                p1: 'electronica1_p1.pdf',
                p2: 'electronica1_p2.pdf',
                p3: 'electronica1_p3.pdf',
                p4: 'electronica1_p4.pdf',
            },
            'logica': {
                apuntes: 'logica_apuntes.pdf',
                p1: 'logica_p1.pdf',
                p2: 'logica_p2.pdf',
                p3: 'logica_p3.pdf',
                p4: 'logica_p4.pdf',
            },
            'ingles2': {
                apuntes: 'ingles2_apuntes.pdf',
                p1: 'ingles2_p1.pdf',
                p2: 'ingles2_p2.pdf',
                p3: 'ingles2_p3.pdf',
                p4: 'ingles2_p4.pdf',
            },
            'lab-fisica2': {
                apuntes: 'lab_fisica2_apuntes.pdf',
                p1: 'lab_fisica2_p1.pdf',
                p2: 'lab_fisica2_p2.pdf',
                p3: 'lab_fisica2_p3.pdf',
                p4: 'lab_fisica2_p4.pdf',
            },
            'lab-progra': {
                apuntes: 'lab_progra_apuntes.pdf',
                p1: 'lab_progra_p1.pdf',
                p2: 'lab_progra_p2.pdf',
                p3: 'lab_progra_p3.pdf',
                p4: 'lab_progra_p4.pdf',
            },
            'lab-electronica1': {
                apuntes: 'lab_electronica1_apuntes.pdf',
                p1: 'lab_electronica1_p1.pdf',
                p2: 'lab_electronica1_p2.pdf',
                p3: 'lab_electronica1_p3.pdf',
                p4: 'lab_electronica1_p4.pdf',
            },
            
            // === SEMESTRE III ===
            'calculo3': {
                apuntes: 'calculo3_apuntes.pdf',
                p1: 'calculo3_p1.pdf',
                p2: 'calculo3_p2.pdf',
                p3: 'calculo3_p3.pdf',
                p4: 'calculo3_p4.pdf',
            },
            'teoria-electro': {
                apuntes: 'teoria_electro_apuntes.pdf',
                p1: 'teoria_electro_p1.pdf',
                p2: 'teoria_electro_p2.pdf',
                p3: 'teoria_electro_p3.pdf',
                p4: 'teoria_electro_p4.pdf',
            },
            'metodos': {
                apuntes: 'metodos_apuntes.pdf',
                p1: 'metodos_p1.pdf',
                p2: 'metodos_p2.pdf',
                p3: 'metodos_p3.pdf',
                p4: 'metodos_p4.pdf',
            },
            'electronica2': {
                apuntes: 'electronica2_apuntes.pdf',
                p1: 'electronica2_p1.pdf',
                p2: 'electronica2_p2.pdf',
                p3: 'electronica2_p3.pdf',
                p4: 'electronica2_p4.pdf',
            },
            'termo': {
                apuntes: 'termo_apuntes.pdf',
                p1: 'termo_p1.pdf',
                p2: 'termo_p2.pdf',
                p3: 'termo_p3.pdf',
                p4: 'termo_p4.pdf',
            },
            'ingles3': {
                apuntes: 'ingles3_apuntes.pdf',
                p1: 'ingles3_p1.pdf',
                p2: 'ingles3_p2.pdf',
                p3: 'ingles3_p3.pdf',
                p4: 'ingles3_p4.pdf',
            },
            'lab-teoria': {
                apuntes: 'lab_teoria_apuntes.pdf',
                p1: 'lab_teoria_p1.pdf',
                p2: 'lab_teoria_p2.pdf',
                p3: 'lab_teoria_p3.pdf',
                p4: 'lab_teoria_p4.pdf',
            },
            'lab-electronica2': {
                apuntes: 'lab_electronica2_apuntes.pdf',
                p1: 'lab_electronica2_p1.pdf',
                p2: 'lab_electronica2_p2.pdf',
                p3: 'lab_electronica2_p3.pdf',
                p4: 'lab_electronica2_p4.pdf',
            },
            'lab-termo': {
                apuntes: 'lab_termo_apuntes.pdf',
                p1: 'lab_termo_p1.pdf',
                p2: 'lab_termo_p2.pdf',
                p3: 'lab_termo_p3.pdf',
                p4: 'lab_termo_p4.pdf',
            },
            
            // === SEMESTRE IV ===
            'calculo4': {
                apuntes: 'calculo4_apuntes.pdf',
                p1: 'calculo4_p1.pdf',
                p2: 'calculo4_p2.pdf',
                p3: 'calculo4_p3.pdf',
                p4: 'calculo4_p4.pdf',
            },
            'circuitos1': {
                apuntes: 'circuitos1_apuntes.pdf',
                p1: 'circuitos1_p1.pdf',
                p2: 'circuitos1_p2.pdf',
                p3: 'circuitos1_p3.pdf',
                p4: 'circuitos1_p4.pdf',
            },
            'discretas': {
                apuntes: 'discretas_apuntes.pdf',
                p1: 'discretas_p1.pdf',
                p2: 'discretas_p2.pdf',
                p3: 'discretas_p3.pdf',
                p4: 'discretas_p4.pdf',
            },
            'digital1': {
                apuntes: 'digital1_apuntes.pdf',
                p1: 'digital1_p1.pdf',
                p2: 'digital1_p2.pdf',
                p3: 'digital1_p3.pdf',
                p4: 'digital1_p4.pdf',
            },
            'estructuras': {
                apuntes: '9788448140779.pdf',  // ‚úÖ Tu PDF personalizado
                p1: 'estructuras_p1.pdf',
                p2: 'estructuras_p2.pdf',
                p3: 'estructuras_p3.pdf',
                p4: 'estructuras_p4.pdf',
            },
            'ing-prog': {
                apuntes: 'ing_prog_apuntes.pdf',
                p1: 'ing_prog_p1.pdf',
                p2: 'ing_prog_p2.pdf',
                p3: 'ing_prog_p3.pdf',
                p4: 'ing_prog_p4.pdf',
            },
            'ingles4': {
                apuntes: 'ingles4_apuntes.pdf',
                p1: 'ingles4_p1.pdf',
                p2: 'ingles4_p2.pdf',
                p3: 'ingles4_p3.pdf',
                p4: 'ingles4_p4.pdf',
            },
            'lab-digital1': {
                apuntes: 'lab_digital1_apuntes.pdf',
                p1: 'lab_digital1_p1.pdf',
                p2: 'lab_digital1_p2.pdf',
                p3: 'lab_digital1_p3.pdf',
                p4: 'lab_digital1_p4.pdf',
            },
            
            // === SEMESTRE V ===
            'lineal': {
                apuntes: 'lineal_apuntes.pdf',
                p1: 'lineal_p1.pdf',
                p2: 'lineal_p2.pdf',
                p3: 'lineal_p3.pdf',
                p4: 'lineal_p4.pdf',
            },
            'algoritmos': {
                apuntes: 'algoritmos_apuntes.pdf',
                p1: 'algoritmos_p1.pdf',
                p2: 'algoritmos_p2.pdf',
                p3: 'algoritmos_p3.pdf',
                p4: 'algoritmos_p4.pdf',
            },
            'paradigmas': {
                apuntes: 'paradigmas_apuntes.pdf',
                p1: 'paradigmas_p1.pdf',
                p2: 'paradigmas_p2.pdf',
                p3: 'paradigmas_p3.pdf',
                p4: 'paradigmas_p4.pdf',
            },
            'proba': {
                apuntes: 'proba_apuntes.pdf',
                p1: 'proba_p1.pdf',
                p2: 'proba_p2.pdf',
                p3: 'proba_p3.pdf',
                p4: 'proba_p4.pdf',
            },
            'control1': {
                apuntes: 'control1_apuntes.pdf',
                p1: 'control1_p1.pdf',
                p2: 'control1_p2.pdf',
                p3: 'control1_p3.pdf',
                p4: 'control1_p4.pdf',
            },
            'lenguajes': {
                apuntes: 'notas_lfya.pdf',
                p1: 'lenguajes_p1.pdf',
                p2: 'lenguajes_p2.pdf',
                p3: 'lenguajes_p3.pdf',
                p4: 'lenguajes_p4.pdf',
            },
            'lab-paradigmas': {
                apuntes: 'lab_paradigmas_apuntes.pdf',
                p1: 'lab_paradigmas_p1.pdf',
                p2: 'lab_paradigmas_p2.pdf',
                p3: 'lab_paradigmas_p3.pdf',
                p4: 'lab_paradigmas_p4.pdf',
            },
            'lab-control1': {
                apuntes: 'lab_control1_apuntes.pdf',
                p1: 'lab_control1_p1.pdf',
                p2: 'lab_control1_p2.pdf',
                p3: 'lab_control1_p3.pdf',
                p4: 'lab_control1_p4.pdf',
            },
            
            // === SEMESTRE VI ===
            'graficacion': {
                apuntes: 'graficacion_apuntes.pdf',
                p1: 'graficacion_p1.pdf',
                p2: 'graficacion_p2.pdf',
                p3: 'graficacion_p3.pdf',
                p4: 'graficacion_p4.pdf',
            },
            'org-comp': {
                apuntes: 'org_comp_apuntes.pdf',
                p1: 'org_comp_p1.pdf',
                p2: 'org_comp_p2.pdf',
                p3: 'org_comp_p3.pdf',
                p4: 'org_comp_p4.pdf',
            },
            'compiladores': {
                apuntes: 'compiladores_apuntes.pdf',
                p1: 'compiladores_p1.pdf',
                p2: 'compiladores_p2.pdf',
                p3: 'compiladores_p3.pdf',
                p4: 'compiladores_p4.pdf',
            },
            'control2': {
                apuntes: 'control2_apuntes.pdf',
                p1: 'control2_p1.pdf',
                p2: 'control2_p2.pdf',
                p3: 'control2_p3.pdf',
                p4: 'control2_p4.pdf',
            },
            'comms1': {
                apuntes: 'comms1_apuntes.pdf',
                p1: 'comms1_p1.pdf',
                p2: 'comms1_p2.pdf',
                p3: 'comms1_p3.pdf',
                p4: 'comms1_p4.pdf',
            },
            'economia': {
                apuntes: 'economia_apuntes.pdf',
                p1: 'economia_p1.pdf',
                p2: 'economia_p2.pdf',
                p3: 'economia_p3.pdf',
                p4: 'economia_p4.pdf',
            },
            'lab-control2': {
                apuntes: 'lab_control2_apuntes.pdf',
                p1: 'lab_control2_p1.pdf',
                p2: 'lab_control2_p2.pdf',
                p3: 'lab_control2_p3.pdf',
                p4: 'lab_control2_p4.pdf',
            },
            'lab-comms': {
                apuntes: 'lab_comms_apuntes.pdf',
                p1: 'lab_comms_p1.pdf',
                p2: 'lab_comms_p2.pdf',
                p3: 'lab_comms_p3.pdf',
                p4: 'lab_comms_p4.pdf',
            },
            'lab-graf': {
                apuntes: 'lab_graf_apuntes.pdf',
                p1: 'lab_graf_p1.pdf',
                p2: 'lab_graf_p2.pdf',
                p3: 'lab_graf_p3.pdf',
                p4: 'lab_graf_p4.pdf',
            },
            
            // === SEMESTRE VII ===
            'teoria-comp': {
                apuntes: 'teoria_comp_apuntes.pdf',
                p1: 'teoria_comp_p1.pdf',
                p2: 'teoria_comp_p2.pdf',
                p3: 'teoria_comp_p3.pdf',
                p4: 'teoria_comp_p4.pdf',
            },
            'inv-op': {
                apuntes: 'inv_op_apuntes.pdf',
                p1: 'inv_op_p1.pdf',
                p2: 'inv_op_p2.pdf',
                p3: 'inv_op_p3.pdf',
                p4: 'inv_op_p4.pdf',
            },
            'bd': {
                apuntes: 'bd_apuntes.pdf',
                p1: 'bd_p1.pdf',
                p2: 'bd_p2.pdf',
                p3: 'bd_p3.pdf',
                p4: 'bd_p4.pdf',
            },
            'redes': {
                apuntes: 'redes_apuntes.pdf',
                p1: 'redes_p1.pdf',
                p2: 'redes_p2.pdf',
                p3: 'redes_p3.pdf',
                p4: 'redes_p4.pdf',
            },
            'temas7': {
                apuntes: 'temas7_apuntes.pdf',
                p1: 'temas7_p1.pdf',
                p2: 'temas7_p2.pdf',
                p3: 'temas7_p3.pdf',
                p4: 'temas7_p4.pdf',
            },
            'lab-redes': {
                apuntes: 'lab_redes_apuntes.pdf',
                p1: 'lab_redes_p1.pdf',
                p2: 'lab_redes_p2.pdf',
                p3: 'lab_redes_p3.pdf',
                p4: 'lab_redes_p4.pdf',
            },
            'lab-bd': {
                apuntes: 'lab_bd_apuntes.pdf',
                p1: 'lab_bd_p1.pdf',
                p2: 'lab_bd_p2.pdf',
                p3: 'lab_bd_p3.pdf',
                p4: 'lab_bd_p4.pdf',
            },
            
            // === SEMESTRE VIII ===
            'modelos': {
                apuntes: 'modelos_apuntes.pdf',
                p1: 'modelos_p1.pdf',
                p2: 'modelos_p2.pdf',
                p3: 'modelos_p3.pdf',
                p4: 'modelos_p4.pdf',
            },
            'control-dig1': {
                apuntes: 'control_dig1_apuntes.pdf',
                p1: 'control_dig1_p1.pdf',
                p2: 'control_dig1_p2.pdf',
                p3: 'control_dig1_p3.pdf',
                p4: 'control_dig1_p4.pdf',
            },
            'so': {
                apuntes: 'so_apuntes.pdf',
                p1: 'so_p1.pdf',
                p2: 'so_p2.pdf',
                p3: 'so_p3.pdf',
                p4: 'so_p4.pdf',
            },
            'admin': {
                apuntes: 'admin_apuntes.pdf',
                p1: 'admin_p1.pdf',
                p2: 'admin_p2.pdf',
                p3: 'admin_p3.pdf',
                p4: 'admin_p4.pdf',
            },
            'etica': {
                apuntes: 'etica_apuntes.pdf',
                p1: 'etica_p1.pdf',
                p2: 'etica_p2.pdf',
                p3: 'etica_p3.pdf',
                p4: 'etica_p4.pdf',
            },
            'temas8': {
                apuntes: 'temas8_apuntes.pdf',
                p1: 'temas8_p1.pdf',
                p2: 'temas8_p2.pdf',
                p3: 'temas8_p3.pdf',
                p4: 'temas8_p4.pdf',
            },
            'lab-control-dig1': {
                apuntes: 'lab_control_dig1_apuntes.pdf',
                p1: 'lab_control_dig1_p1.pdf',
                p2: 'lab_control_dig1_p2.pdf',
                p3: 'lab_control_dig1_p3.pdf',
                p4: 'lab_control_dig1_p4.pdf',
            },
            'lab-so': {
                apuntes: 'lab_so_apuntes.pdf',
                p1: 'lab_so_p1.pdf',
                p2: 'lab_so_p2.pdf',
                p3: 'lab_so_p3.pdf',
                p4: 'lab_so_p4.pdf',
            },
            'lab-temas8': {
                apuntes: 'lab_temas8_apuntes.pdf',
                p1: 'lab_temas8_p1.pdf',
                p2: 'lab_temas8_p2.pdf',
                p3: 'lab_temas8_p3.pdf',
                p4: 'lab_temas8_p4.pdf',
            },
            
            // === SEMESTRE IX ===
            'expresion': {
                apuntes: 'expresion_apuntes.pdf',
                p1: 'expresion_p1.pdf',
                p2: 'expresion_p2.pdf',
                p3: 'expresion_p3.pdf',
                p4: 'expresion_p4.pdf',
            },
            'contabilidad': {
                apuntes: 'contabilidad_apuntes.pdf',
                p1: 'contabilidad_p1.pdf',
                p2: 'contabilidad_p2.pdf',
                p3: 'contabilidad_p3.pdf',
                p4: 'contabilidad_p4.pdf',
            },
            'temas9-1': {
                apuntes: 'temas9_1_apuntes.pdf',
                p1: 'temas9_1_p1.pdf',
                p2: 'temas9_1_p2.pdf',
                p3: 'temas9_1_p3.pdf',
                p4: 'temas9_1_p4.pdf',
            },
            'temas9-2': {
                apuntes: 'temas9_2_apuntes.pdf',
                p1: 'temas9_2_p1.pdf',
                p2: 'temas9_2_p2.pdf',
                p3: 'temas9_2_p3.pdf',
                p4: 'temas9_2_p4.pdf',
            },
            'temas9-3': {
                apuntes: 'temas9_3_apuntes.pdf',
                p1: 'temas9_3_p1.pdf',
                p2: 'temas9_3_p2.pdf',
                p3: 'temas9_3_p3.pdf',
                p4: 'temas9_3_p4.pdf',
            },
            'lab-temas9': {
                apuntes: 'lab_temas9_apuntes.pdf',
                p1: 'lab_temas9_p1.pdf',
                p2: 'lab_temas9_p2.pdf',
                p3: 'lab_temas9_p3.pdf',
                p4: 'lab_temas9_p4.pdf',
            },
            'ia': {
                apuntes: 'ia_apuntes.pdf',
                p1: 'ia_p1.pdf',
                p2: 'ia_p2.pdf',
                p3: 'ia_p3.pdf',
                p4: 'ia_p4.pdf',
            },
            'lab-ia': {
                apuntes: 'lab_ia_apuntes.pdf',
                p1: 'lab_ia_p1.pdf',
                p2: 'lab_ia_p2.pdf',
                p3: 'lab_ia_p3.pdf',
                p4: 'lab_ia_p4.pdf',
            },
            
            // === SEMESTRE X ===
            'tesis': {
                apuntes: 'tesis_apuntes.pdf',
                p1: 'tesis_p1.pdf',
                p2: 'tesis_p2.pdf',
                p3: 'tesis_p3.pdf',
                p4: 'tesis_p4.pdf',
            },
        };
        
        // Generar autom√°ticamente apuntes y 4 parciales para TODAS las materias
        const MIS_DOCUMENTOS = [];
        
        PLAN_ESTUDIOS.forEach(subject => {
            const customPdf = CUSTOM_PDFS[subject.id] || {};
            
            // Agregar apuntes
            MIS_DOCUMENTOS.push({
                id: `doc-${subject.id}`,
                subjectId: subject.id,
                title: `Apuntes - ${subject.name}`,
                pdfUrl: `./pdfs/${customPdf.apuntes || subject.id + '_apuntes.pdf'}`,
                type: 'apuntes'
            });
            
            // Agregar 4 parciales para cada materia
            for (let i = 1; i <= 4; i++) {
                MIS_DOCUMENTOS.push({
                    id: `ex-${subject.id}-p${i}`,
                    subjectId: subject.id,
                    title: `Parcial ${i} - ${subject.name}`,
                    pdfUrl: `./pdfs/${customPdf['p' + i] || subject.id + '_p' + i + '.pdf'}`,
                    type: 'examen',
                    parcial: i
                });
            }
        });

        // --- Iconos ---
        const Icon = ({ path, className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {path}
            </svg>
        );

        const Icons = {
            Rocket: (props) => <Icon {...props} path={<><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z"/><path d="m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z"/><path d="M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0"/><path d="M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5"/></>} />,
            Search: (props) => <Icon {...props} path={<><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></>} />,
            FileText: (props) => <Icon {...props} path={<><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><line x1="10" x2="8" y1="9" y2="9"/></>} />,
            Menu: (props) => <Icon {...props} path={<><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></>} />,
            Moon: (props) => <Icon {...props} path={<><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></>} />,
            Sun: (props) => <Icon {...props} path={<><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/></>} />,
            ChevronDown: (props) => <Icon {...props} path={<><path d="m6 9 6 6 6-6"/></>} />,
            ChevronRight: (props) => <Icon {...props} path={<><path d="m9 18 6-6-6-6"/></>} />,
            Lock: (props) => <Icon {...props} path={<><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></>} />,
            X: (props) => <Icon {...props} path={<><path d="M18 6 6 18"/><path d="m6 6 12 12"/></>} />,
            BookOpen: (props) => <Icon {...props} path={<><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></>} />,
        };

        const SUBJECT_COLORS = [
            { bg: 'bg-blue-100 dark:bg-blue-900/30', text: 'text-blue-700 dark:text-blue-300' },
            { bg: 'bg-emerald-100 dark:bg-emerald-900/30', text: 'text-emerald-700 dark:text-emerald-300' },
            { bg: 'bg-orange-100 dark:bg-orange-900/30', text: 'text-orange-700 dark:text-orange-300' },
            { bg: 'bg-purple-100 dark:bg-purple-900/30', text: 'text-purple-700 dark:text-purple-300' },
            { bg: 'bg-pink-100 dark:bg-pink-900/30', text: 'text-pink-700 dark:text-pink-300' },
            { bg: 'bg-cyan-100 dark:bg-cyan-900/30', text: 'text-cyan-700 dark:text-cyan-300' },
        ];

        const SEMESTERS = ['I', 'II', 'III', 'IV', 'V', 'VI', 'VII', 'VIII', 'IX', 'X'];

        function App() {
            const [currentSemester, setCurrentSemester] = useState('I');
            const [selectedNoteId, setSelectedNoteId] = useState(null);
            const [isSidebarOpen, setIsSidebarOpen] = useState(true);
            const [searchTerm, setSearchTerm] = useState('');
            const [darkMode, setDarkMode] = useState(() => localStorage.getItem('theme') === 'dark');
            const [expandedSubjects, setExpandedSubjects] = useState({});

            useEffect(() => {
                document.documentElement.classList.toggle('dark', darkMode);
                localStorage.setItem('theme', darkMode ? 'dark' : 'light');
            }, [darkMode]);

            const visibleSubjects = useMemo(() => {
                return PLAN_ESTUDIOS
                    .filter(s => s.semester === currentSemester)
                    .map((s, i) => ({ ...s, color: SUBJECT_COLORS[i % SUBJECT_COLORS.length] }))
                    .filter(s => s.name.toLowerCase().includes(searchTerm.toLowerCase()));
            }, [currentSemester, searchTerm]);

            const toggleExpand = (id) => {
                setExpandedSubjects(prev => ({ ...prev, [id]: !prev[id] }));
            };

            const activeNoteData = MIS_DOCUMENTOS.find(n => n.id === selectedNoteId);

            return (
                <div className="flex h-screen bg-white dark:bg-slate-900 transition-colors">
                    
                    {/* SIDEBAR */}
                    <aside className={`fixed inset-y-0 left-0 z-40 w-80 bg-gray-50 dark:bg-slate-850 border-r border-gray-200 dark:border-slate-700 transition-transform md:relative md:translate-x-0 ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full'}`}>
                        <div className="flex flex-col h-full">
                            
                            {/* Header Sidebar */}
                            <div className="p-6 border-b border-gray-200 dark:border-slate-700">
                                <div className="flex items-center justify-between mb-6">
                                    <div className="flex items-center space-x-2 text-indigo-600 dark:text-indigo-400 font-bold text-xl">
                                        <Icons.Rocket className="w-6 h-6" />
                                        <span>Plan de Estudio</span>
                                    </div>
                                    <button onClick={() => setDarkMode(!darkMode)} className="p-2 rounded-lg hover:bg-gray-200 dark:hover:bg-slate-700">
                                        {darkMode ? <Icons.Sun className="w-5 h-5" /> : <Icons.Moon className="w-5 h-5" />}
                                    </button>
                                </div>

                                <div className="semester-scroll flex space-x-1 overflow-x-auto mb-4 bg-gray-200 dark:bg-slate-800 p-1 rounded-xl" style={{scrollbarWidth: 'thin'}}>
                                    {SEMESTERS.map(sem => (
                                        <button 
                                            key={sem}
                                            onClick={() => setCurrentSemester(sem)}
                                            className={`px-3 py-1.5 rounded-lg text-xs font-bold transition-all flex-shrink-0 ${currentSemester === sem ? 'bg-white dark:bg-slate-600 text-indigo-600 dark:text-white shadow-sm' : 'text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300'}`}
                                        >
                                            {sem}
                                        </button>
                                    ))}
                                </div>

                                <div className="relative">
                                    <Icons.Search className="absolute left-3 top-2.5 w-4 h-4 text-gray-400" />
                                    <input 
                                        type="text" 
                                        placeholder="Filtrar materia..."
                                        className="w-full pl-9 pr-4 py-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl text-sm outline-none focus:ring-2 focus:ring-indigo-500 transition-all"
                                        value={searchTerm}
                                        onChange={(e) => setSearchTerm(e.target.value)}
                                    />
                                </div>
                            </div>

                            {/* LISTA DE MATERIAS CON 4 PARCIALES C/U */}
                            <div className="flex-1 overflow-y-auto p-4 space-y-2 custom-scrollbar">
                                <h3 className="px-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-2">Materias del Semestre {currentSemester}</h3>
                                {visibleSubjects.length === 0 ? (
                                    <p className="text-center text-xs text-gray-400 py-10 italic">No hay resultados.</p>
                                ) : (
                                    visibleSubjects.map(subject => {
                                        const isExp = expandedSubjects[subject.id];
                                        const subjectDocs = MIS_DOCUMENTOS.filter(d => d.subjectId === subject.id);
                                        const notes = subjectDocs.filter(d => d.type === 'apuntes');
                                        const exams = subjectDocs.filter(d => d.type === 'examen');

                                        return (
                                            <div key={subject.id} className="group">
                                                <button 
                                                    onClick={() => toggleExpand(subject.id)}
                                                    className={`w-full flex items-center justify-between p-3 rounded-xl transition-all ${isExp ? 'bg-indigo-50 dark:bg-indigo-900/20' : 'hover:bg-gray-100 dark:hover:bg-slate-800'}`}
                                                >
                                                    <div className="flex items-center space-x-3 overflow-hidden">
                                                        <div className={`w-2 h-2 rounded-full flex-shrink-0 ${subject.color.bg.split(' ')[0]}`}></div>
                                                        <span className={`text-sm font-medium truncate ${isExp ? 'text-indigo-700 dark:text-indigo-300' : 'text-slate-600 dark:text-slate-400'}`}>
                                                            {subject.name}
                                                        </span>
                                                    </div>
                                                    {isExp ? <Icons.ChevronDown className="w-4 h-4 opacity-50" /> : <Icons.ChevronRight className="w-4 h-4 opacity-50" />}
                                                </button>

                                                {isExp && (
                                                    <div className="ml-4 mt-1 space-y-1 border-l-2 border-indigo-100 dark:border-indigo-900/30 pl-3 fade-in">
                                                        
                                                        {/* APUNTES */}
                                                        <div>
                                                            <div className="text-[9px] font-bold text-gray-400 uppercase tracking-wider p-1">Documentos</div>
                                                            {notes.length > 0 ? notes.map(note => (
                                                                <button 
                                                                    key={note.id}
                                                                    onClick={() => setSelectedNoteId(note.id)}
                                                                    className={`w-full text-left p-2 rounded-lg text-xs flex items-center space-x-2 transition-colors ${selectedNoteId === note.id ? 'bg-indigo-600 text-white shadow-md' : 'text-slate-500 dark:text-slate-400 hover:bg-white dark:hover:bg-slate-700'}`}
                                                                >
                                                                    <Icons.FileText className="w-3.5 h-3.5 shrink-0" />
                                                                    <span className="truncate">{note.title}</span>
                                                                </button>
                                                            )) : (
                                                                <div className="text-[10px] text-gray-300 italic px-2 py-1">Sin apuntes</div>
                                                            )}
                                                        </div>

                                                        {/* EX√ÅMENES: 4 PARCIALES SIEMPRE */}
                                                        <div className="mt-2">
                                                            <div className="text-[9px] font-bold text-gray-400 uppercase tracking-wider p-1">Evaluaciones (4 Parciales)</div>
                                                            {[1, 2, 3, 4].map(pNum => {
                                                                const exam = exams.find(e => e.parcial === pNum);
                                                                return (
                                                                    <button 
                                                                        key={pNum}
                                                                        disabled={!exam}
                                                                        onClick={() => exam && setSelectedNoteId(exam.id)}
                                                                        className={`w-full text-left p-2 rounded-lg text-[11px] flex items-center justify-between transition-all ${
                                                                            exam 
                                                                            ? selectedNoteId === exam.id 
                                                                                ? 'bg-rose-500 text-white font-bold' 
                                                                                : 'text-slate-600 dark:text-slate-300 hover:bg-white dark:hover:bg-slate-700' 
                                                                            : 'text-gray-300 dark:text-slate-600 cursor-not-allowed italic opacity-50'
                                                                        }`}
                                                                    >
                                                                        <div className="flex items-center space-x-2 truncate">
                                                                            <span className={`w-1.5 h-1.5 rounded-full ${exam ? 'bg-rose-400' : 'bg-gray-200 dark:bg-slate-700'}`}></span>
                                                                            <span className="truncate">Parcial {pNum}</span>
                                                                        </div>
                                                                        {!exam ? <Icons.Lock className="w-3 h-3" /> : <span className="text-[8px] font-bold">PDF</span>}
                                                                    </button>
                                                                );
                                                            })}
                                                        </div>
                                                    </div>
                                                )}
                                            </div>
                                        );
                                    })
                                )}
                            </div>
                        </div>
                    </aside>

                    {/* MAIN VIEW */}
                    <main className="flex-1 flex flex-col min-w-0 relative">
                        {/* Mobile Toggle */}
                        <button 
                            onClick={() => setIsSidebarOpen(!isSidebarOpen)}
                            className="md:hidden absolute top-4 left-4 z-50 p-2 bg-indigo-600 text-white rounded-lg shadow-lg"
                        >
                            <Icons.Menu className="w-5 h-5" />
                        </button>

                        {activeNoteData ? (
                            <div className="flex flex-col h-full bg-gray-100 dark:bg-slate-950">
                                <header className="h-16 bg-white dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between px-6 shrink-0">
                                    <div className="flex flex-col ml-12 md:ml-0 truncate">
                                        <span className="text-[10px] uppercase font-bold text-gray-400">Semestre {currentSemester}</span>
                                        <h2 className="text-sm font-bold text-slate-800 dark:text-white truncate">{activeNoteData.title}</h2>
                                    </div>
                                    <div className="flex items-center space-x-3">
                                        <a href={activeNoteData.pdfUrl} target="_blank" className="px-4 py-2 bg-indigo-600 text-white text-xs font-bold rounded-xl hover:bg-indigo-700 transition-all">
                                            Descargar
                                        </a>
                                        <button onClick={() => setSelectedNoteId(null)} className="p-2 text-gray-400 hover:text-gray-600">
                                            <Icons.X className="w-5 h-5" />
                                        </button>
                                    </div>
                                </header>
                                <div className="flex-1 iframe-container p-4 md:p-8 overflow-hidden">
                                    <iframe 
                                        src={activeNoteData.pdfUrl} 
                                        className="w-full h-full rounded-2xl border-none shadow-2xl bg-white"
                                        title="Visor"
                                    />
                                </div>
                            </div>
                        ) : (
                            <div className="flex-1 flex flex-col items-center justify-center p-12 text-center bg-gray-50 dark:bg-slate-900 transition-all">
                                <div className="max-w-lg">
                                    <div className="w-24 h-24 bg-white dark:bg-slate-800 rounded-3xl flex items-center justify-center mb-8 shadow-xl mx-auto rotate-2">
                                        <Icons.BookOpen className="w-12 h-12 text-indigo-500" />
                                    </div>
                                    <h1 className="text-3xl font-black text-slate-800 dark:text-white mb-4">Gestor de Ingenier√≠a</h1>
                                    <p className="text-slate-500 dark:text-slate-400 leading-relaxed mb-8">
                                        Explora las materias de los 10 semestres. Cada materia tiene su propia secci√≥n de <b>Apuntes</b> y la estructura obligatoria de <b>4 Parciales</b> para ex√°menes.
                                    </p>
                                    <div className="grid grid-cols-2 gap-4">
                                        <div className="p-5 bg-white dark:bg-slate-800 rounded-2xl border border-gray-100 dark:border-slate-700 shadow-sm">
                                            <span className="block text-2xl font-black text-indigo-600 uppercase">{currentSemester}</span>
                                            <span className="text-[10px] text-gray-400 uppercase font-bold">Semestre Seleccionado</span>
                                        </div>
                                        <div className="p-5 bg-white dark:bg-slate-800 rounded-2xl border border-gray-100 dark:border-slate-700 shadow-sm">
                                            <span className="block text-2xl font-black text-rose-500">{PLAN_ESTUDIOS.length}</span>
                                            <span className="text-[10px] text-gray-400 uppercase font-bold">Materias Totales</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
                    </main>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>